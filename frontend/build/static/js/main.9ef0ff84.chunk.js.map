{"version":3,"sources":["index.js"],"names":["books","Title","Recommender","useState","recommendations","setRecommendations","id","class","Credentials","onLogin","console","log","BookList","props","username","setUsername","isLogged","setIsLogged","isLoading","setIsLoading","handleLogin","event","a","preventDefault","target","usr","parentElement","value","pwd","postobj","axios","post","reply","arr","data","length","method","container","disabled","type","name","placeholder","autocomplete","onClick","listItems","map","book","index","temp","margin","ImageURLL","style","zIndex","marginTop","border","boxShadow","height","width","src","ReactDOM","render","document","getElementById"],"mappings":"2OAIMA,EAAQ,CAAC,CAACC,MAAO,oCACR,CAACA,MAAO,WACR,CAACA,MAAM,sBACP,CAACA,MAAM,sBACP,CAACA,MAAM,sBAEtB,SAASC,IAAe,IAAD,EACyBC,mBAASH,GADlC,mBACdI,EADc,KACGC,EADH,KAUrB,OACE,yBAAKC,GAAG,MAAMC,MAAM,uBAClB,yBAAKD,GAAG,SAASC,MAAM,+BACrB,kBAACC,EAAD,CAAaC,QAVH,SAACL,GACfM,QAAQC,IAAIP,GACZM,QAAQC,IAAIP,EAAgB,IAC5BC,EAAmBD,EAAgB,QAWjC,yBAAKG,MAAM,YAAX,uBACA,yBAAKD,GAAG,GAAGC,MAAM,oBACf,kBAACK,EAAD,CAAUZ,MAAOI,MAWzB,SAASI,EAAYK,GAAQ,IAAD,EACMV,mBAAS,MADf,mBACnBW,EADmB,KACTC,EADS,OAEMZ,oBAAS,GAFf,mBAEnBa,EAFmB,KAETC,EAFS,OAGQd,oBAAS,GAHjB,mBAGnBe,EAHmB,KAGRC,EAHQ,KAKpBC,EAAW,uCAAG,WAAMC,GAAN,uBAAAC,EAAA,6DAClBD,EAAME,iBACNb,QAAQC,IAAIU,EAAMG,QACdC,EAAMJ,EAAMG,OAAOE,cAAcA,cAAcD,IAAIE,MACnDC,EAAMP,EAAMG,OAAOE,cAAcA,cAAcE,IAAID,MAEjDE,EAAU,CAACJ,IAAKA,EAAKG,IAAKA,GANd,SAQhBT,GAAa,GARG,SASEW,IAAMC,KAAK,YAAaF,GAT1B,UASZG,EATY,OAUZC,EAAMD,EAAME,KAGhBjB,GAAY,GACZF,EAAYU,GAGK,GAAdQ,EAAIE,OAjBS,sBAkBR,cAlBQ,QAmBhBtB,EAAMJ,QAAQwB,GAnBE,kDAsBhBvB,QAAQC,IAAR,MAtBgB,yBAwBhBQ,GAAa,GAxBG,6EAAH,sDAgDjB,OAbIH,EAWO,kCAAU,6CAAmBF,IATpC,0BAAMsB,OAAO,OAAOC,UAAU,0BAC9B,8BAAUC,SAAUpB,GAClB,2BAAOqB,KAAK,OAAOC,KAAK,MAAMC,YAAY,WAAWC,aAAa,QAClE,2BAAOH,KAAK,WAAWC,KAAK,MAAMC,YAAY,WAAWC,aAAa,QACtE,4BAAQH,KAAK,SAASI,QAASvB,GAA/B,SACA,4BAAQmB,KAAK,SAASI,QAdL,SAAAtB,GACrBA,EAAME,iBACNb,QAAQC,IAAIU,EAAMG,OAAOE,cAAcD,IAAIE,SAYvC,cASR,SAASf,EAASC,GAChB,IACM+B,EADQ/B,EAAMb,MACI6C,KAAI,SAACC,EAAMC,GACjC,IAAIC,EAAO,2FAEPC,EAAS,MASb,OARGF,EAAQ,GAAK,IACdC,EAAO,2FACPC,EAAS,QAGXD,EAAyB,MAAlBF,EAAKI,UAAoBF,EAAOF,EAAKI,UAC5CxC,QAAQC,IAAIqC,GAGZ,yBAAKzC,MAAM,gBACT,yBAAKA,MAAM,GAAG4C,MAAO,CAACC,OAAQL,EAAM,EAAGM,UAAWJ,EAAQK,OAAQ,kBAAmBC,UAAW,mEAAoEC,OAAO,OAAOC,MAAM,OAAOC,IAAKV,QAKxM,OACE,yBAAKzC,MAAM,WACT,yBAAKA,MAAM,UACVqC,EACD,yBAAKrC,MAAM,WAKjBoD,IAASC,OAAO,kBAAC1D,EAAD,MAAgB2D,SAASC,eAAe,W","file":"static/js/main.9ef0ff84.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\n\nconst books = [{Title: 'AAAAAAAAAAAAAAAAAAA AAAAAAAAAAAA'}, \n               {Title: 'Candide'}, \n               {Title:'Beyond Good & Evil'}, \n               {Title:'Crime & Punishment'}, \n               {Title:'Gulag Archipelago'}];\n\nfunction Recommender() {\n  const [recommendations, setRecommendations] = useState(books);\n\n  const onLogin = (recommendations) => {\n    console.log(recommendations);\n    console.log(recommendations[0]);\n    setRecommendations(recommendations[0]);\n\n  }\n\n  return(\n    <div id='app' class='container-fluid p-0'>\n      <div id='navbar' class='container-fluid border p-3 '>\n        <Credentials onLogin={onLogin}/>\n      </div>\n\n\n      <div class='col-*-12'>Most Popular Titles</div>\n      <div id='' class='container border'>\n        <BookList books={recommendations} />\n        {/* <BookList books={recommendations} />\n        <BookList books={recommendations} />\n        <BookList books={recommendations} />\n        <BookList books={recommendations} />\n        <BookList books={recommendations} /> */}\n      </div>\n    </div>\n  );\n}\n\nfunction Credentials(props) {\n  const [username, setUsername] = useState(null);\n  const [isLogged, setIsLogged] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleLogin = async(event) => {\n    event.preventDefault();\n    console.log(event.target);\n    let usr = event.target.parentElement.parentElement.usr.value;\n    let pwd = event.target.parentElement.parentElement.pwd.value;\n\n    const postobj = {usr: usr, pwd: pwd};\n    try {\n      setIsLoading(true);\n      let reply = await axios.post('login.php', postobj);\n      let arr = reply.data;\n\n      // authentication success\n      setIsLogged(true);\n      setUsername(usr);\n\n      // check if user has personalized recommendations\n      if(arr.length == 0)\n        throw 'No Ratings!';\n      props.onLogin(arr)\n    } catch(e) {\n      // authentication failure\n      console.log(e);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  const handleRegister = event => {\n    event.preventDefault();\n    console.log(event.target.parentElement.usr.value);\n\n  }\n  \n  var html;\n  if(!isLogged) {\n      html =\n      <form method=\"POST\" container='container-fluid border'>\n      <fieldset disabled={isLoading}>\n        <input type=\"text\" name=\"usr\" placeholder=\"Username\" autocomplete=\"off\"></input>\n        <input type=\"password\" name=\"pwd\" placeholder=\"Password\" autocomplete=\"off\"></input>\n        <button type=\"submit\" onClick={handleLogin}>Login</button>  \n        <button type=\"submit\" onClick={handleRegister}>Register</button>\n      </fieldset>\n      </form>;\n  } else {\n      html = <fieldset><div>Logged In as {username}</div></fieldset>\n  }\n  return html;\n}\n\nfunction BookList(props) {\n  const books = props.books;\n  const listItems = books.map((book, index) => {\n    let temp = 'https://images-na.ssl-images-amazon.com/images/I/41DxTj1cWoL._SX316_BO1,204,203,200_.jpg';\n\n    let margin = '5px';\n    if(index % 2 == 0) {\n      temp = 'https://images-na.ssl-images-amazon.com/images/I/51Pli1sEdvL._SX348_BO1,204,203,200_.jpg';\n      margin = '-5px';\n    }\n    \n    temp = book.ImageURLL == null ? temp : book.ImageURLL;\n    console.log(temp)\n\n    return (\n    <div class='col-2 border'>\n      <img class='' style={{zIndex: index+1, marginTop: margin, border: '5px solid black', boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.5), 0 6px 20px 0 rgba(0, 0, 0, 0.4)'}} height='100%' width='150%' src={temp}/>\n    </div>\n    );\n  });\n\n  return(\n    <div class='row m-0'>\n      <div class='col-1'></div>\n      {listItems}\n      <div class='col-1'></div>\n    </div>\n  );\n}\n\nReactDOM.render(<Recommender/>, document.getElementById('root'));"],"sourceRoot":""}